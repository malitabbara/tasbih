<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tasbih Counter</title>
  <style>
    /* Make the page take up the full viewport */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: sans-serif;
      background-color: #f5f5f5;
    }

    /* Container to center the counter vertically */
    .container {
      display: flex;
      flex-direction: column;
      height: 100%;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* Welcome message at the top center */
    #welcome {
      position: absolute;
      top: 20px;
      width: 100%;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: #333;
    }

    /* Counter in the middle */
    #counter {
      font-size: 6rem;
      font-weight: bold;
      color: #222;
      user-select: none;
    }

    /* Reset button at the top right */
    #reset {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      background-color: #e74c3c;
      border: none;
      border-radius: 4px;
      color: white;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    #reset:hover {
      background-color: #c0392b;
    }

    /* Instruction text at the bottom */
    #instructions {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="welcome">Assalamu’alaikum – Start Your Tasbih</div>
    <button id="reset">Reset</button>
    <div id="counter">0</div>
    <div id="instructions">
      Press your phone’s volume ↑ or ↓ button to increment the counter.
    </div>
  </div>

  <script>
    let count = 0;
    const counterEl = document.getElementById('counter');
    const resetBtn = document.getElementById('reset');

    function updateDisplay() {
      counterEl.textContent = count;
    }

    function incrementCounter() {
      count += 1;
      updateDisplay();
    }

    function resetCounter() {
      count = 0;
      updateDisplay();
    }

    resetBtn.addEventListener('click', resetCounter);

    // Listen for volume button presses. On many mobile browsers,
    // these keys may not be passed to the webpage, but on supported browsers:
    window.addEventListener('keydown', function(event) {
      // Modern browsers may report 'AudioVolumeUp' / 'AudioVolumeDown'
      if (
        event.key === 'AudioVolumeUp' ||
        event.key === 'AudioVolumeDown' ||
        // Fallback for numeric keyCode (not standardized everywhere):
        event.keyCode === 175 || // Volume Up (some browsers)
        event.keyCode === 174    // Volume Down (some browsers)
      ) {
        event.preventDefault();
        incrementCounter();
      }
    });

    // Some mobile WebViews send 'keyup' instead of 'keydown' for volume keys.
    window.addEventListener('keyup', function(event) {
      if (
        event.key === 'AudioVolumeUp' ||
        event.key === 'AudioVolumeDown' ||
        event.keyCode === 175 ||
        event.keyCode === 174
      ) {
        event.preventDefault();
        incrementCounter();
      }
    });

    // Fallback: if volume buttons aren’t captured, allow tapping anywhere to increment
    // (Optional – comment out if not desired)
    document.body.addEventListener('click', incrementCounter);
  </script>
</body>
</html>
